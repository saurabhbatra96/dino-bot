<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="assets/dino.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dino-Bot AI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&display=swap" rel="stylesheet">
</head>

<body>
  <div id="app">
    <div class="main-layout">
      <!-- Left Column: Hell (Loserboard) -> Disposal -->
      <aside class="loserboard-container hell-theme">
        <h3>üóëÔ∏è Disposal Protocols</h3>
        <div class="leaderboard-scroll">
          <table id="loserboard-table">
            <thead>
              <tr>
                <th>Subject</th>
                <th>Score</th>
                <th>Gen</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <p id="empty-loserboard-msg" class="empty-msg">Incinerator awaiting waste.</p>
        </div>
      </aside>

      <!-- Center Column: Game -->
      <main class="ui-container">
        <header>
          <h1>APERTURE <span class="badge">DINO-SCI <span class="info-icon">i<div class="info-tooltip">
                  <div class="tooltip-header">
                    <img src="assets/dino.png" alt="Dino"
                      style="width: 30px; height: 30px; image-rendering: pixelated;">
                    <span>APERTURE PROTOCOL</span>
                  </div>
                  <p>Greetings, test subject. I am definitely a human developer and not a Genetic Lifeform and Disk
                    Operating System. This simulation utilizes <strong>Neuroevolution</strong> to optimize survival
                    strategies.</p>
                  <p>We take 50 subjects, introduce them to a lethal environment, and incinerate the failures. It is
                    science. You wouldn't understand. Please continue testing until satisfaction or expiration.</p>
                </div></span></span></h1>
          <div class="stats">
            <div class="stat-item">Subject: <span id="current-name">---</span></div>
            <div class="stat-item">Gen: <span id="gen-count">1</span></div>
            <div class="stat-item">Alive: <span id="alive-count">0</span></div>
            <div class="stat-item">Score: <span id="best-score">0</span></div>
          </div>
        </header>

        <div class="canvas-wrapper">
          <canvas id="game-canvas"></canvas>
          <div id="game-over" class="overlay hidden">
            <h2>TEST FAILED</h2>
            <p>Recalibrating...</p>
          </div>
        </div>

        <div class="controls">
          <button id="toggle-train">Initiate Test</button>
          <div class="mode-switch">
            <label>Auto</label>
            <input type="checkbox" id="manual-mode-toggle">
            <label>Manual</label>
          </div>
          <div class="speed-control">
            <label>Rate: <span id="speed-val">1x</span></label>
            <input type="range" id="speed-range" min="1" max="100" value="1">
          </div>
        </div>

        <div class="judgment-controls">
          <button id="btn-decommission" class="btn-hell">Incinerate</button>
          <button id="btn-award" class="btn-heaven">Preserve</button>
        </div>

        <div id="manual-hints" class="hints hidden">
          <p>Controls: <span>SPACE / W</span> JUMP | <span>DOWN / S</span> DUCK</p>
        </div>
      </main>

      <!-- Right Column: Heaven (Leaderboard) -> Retention -->
      <aside class="leaderboard-container heaven-theme">
        <h3>üìÇ Retention Archive</h3>
        <div class="leaderboard-scroll">
          <table id="leaderboard-table">
            <thead>
              <tr>
                <th>Subject</th>
                <th>Score</th>
                <th>Gen</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <p id="empty-leaderboard-msg" class="empty-msg">Archive empty. Keep testing.</p>
        </div>
      </aside>
    </div>
    <div id="story-modal" class="modal-overlay hidden">
      <div class="modal-content">
        <div class="modal-header">
          <span class="modal-title">FINAL INCINERATION LOG</span>
          <span class="modal-personality" id="story-personality">The Reddit User</span>
        </div>
        <div class="modal-body">
          <p id="story-content"></p>
        </div>
        <div class="modal-footer">
          <button class="btn-cancel-disabled" title="Option unavailable in this reality.">Cancel Incineration</button>
          <button id="close-story" class="btn-hell">Initiate Incineration</button>
        </div>
      </div>
    </div>

    <script type="module" src="src/main.ts"></script>
</body>

</html>